<div class="dashboard-container">
  <!-- Top Toolbar -->
  <mat-toolbar color="primary" class="main-toolbar">
    <div class="connection-status">
      @switch (connectionState()) {
        @case ('Connected') {
          <mat-icon class="status-icon connected">check_circle</mat-icon>
          <span>Connected</span>
        }
        @case ('Connecting') {
          <mat-icon class="status-icon connecting">hourglass_empty</mat-icon>
          <span>Connecting</span>
        }
        @case ('Error') {
          <mat-icon class="status-icon error">error</mat-icon>
          <span>Connection Error</span>
        }
        @default {
          <mat-icon class="status-icon disconnected">highlight_off</mat-icon>
          <span>Disconnected</span>
        }
      }
    </div>
    <span class="toolbar-spacer"></span>
    <button mat-stroked-button (click)="disconnect()">
      <mat-icon>exit_to_app</mat-icon>
      <span>Disconnect</span>
    </button>
  </mat-toolbar>

  <!-- Main Content Area -->
  <main class="main-content">
    <!-- Left Panel: Device List and Topic Manager -->
    <div class="left-panel">
      <div class="device-list-container">
        <app-device-list></app-device-list>
      </div>
      <div class="topic-manager-container">
        <app-topic-manager></app-topic-manager>
      </div>
    </div>

    <!-- Right Panel: Combined Publisher and Monitor -->
    <div class="right-panel">
      <div class="right-panel-content">
        <div class="publisher-container">
          <app-publisher></app-publisher>
        </div>
        <div class="monitor-container">
          <app-topic-monitor></app-topic-monitor>
        </div>
      </div>
    </div>
  </main>
</div>
