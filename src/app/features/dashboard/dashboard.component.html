<div class="dashboard-container">
  <!-- Top Toolbar -->
  <mat-toolbar color="primary" class="main-toolbar">
    <div class="connection-status">
      @switch (connectionState()) {
        @case ('Connected') {
          <mat-icon class="status-icon connected">check_circle</mat-icon>
          <span>Connected</span>
        }
        @case ('Connecting') {
          <mat-icon class="status-icon connecting">hourglass_empty</mat-icon>
          <span>Connecting</span>
        }
        @case ('Error') {
          <mat-icon class="status-icon error">error</mat-icon>
          <span>Connection Error</span>
        }
        @default {
          <mat-icon class="status-icon disconnected">highlight_off</mat-icon>
          <span>Disconnected</span>
        }
      }
    </div>
    <span class="toolbar-spacer"></span>
    <!-- Settings Button -->
    <button mat-icon-button (click)="goToSettings()" matTooltip="Go to Topic Settings">
      <mat-icon>settings</mat-icon>
    </button>
    <!-- Disconnect Button -->
    <button mat-stroked-button (click)="disconnect()">
      <mat-icon>exit_to_app</mat-icon>
      <span>Disconnect</span>
    </button>
  </mat-toolbar>

  <!-- Main Content Area: Vertical Layout -->
  <main class="main-content">
    <!-- Topic Monitor (Top) -->
    <div class="monitor-wrapper">
      <app-topic-monitor></app-topic-monitor>
    </div>

    <!-- Message Publisher (Bottom) -->
    <div class="publisher-wrapper">
      <app-publisher></app-p-publisher>
    </div>
  </main>
</div>
