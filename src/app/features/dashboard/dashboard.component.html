<div class="dashboard-container">
  <!-- Top Toolbar -->
  <mat-toolbar color="primary" class="main-toolbar">
    <div class="connection-status">
      @switch (connectionState()) {
        @case ('Connected') {
          <mat-icon class="status-icon connected">check_circle</mat-icon>
          <span>Connected</span>
        }
        @case ('Connecting') {
          <mat-icon class="status-icon connecting">hourglass_empty</mat-icon>
          <span>Connecting</span>
        }
        @case ('Error') {
          <mat-icon class="status-icon error">error</mat-icon>
          <span>Connection Error</span>
        }
        @default {
          <mat-icon class="status-icon disconnected">highlight_off</mat-icon>
          <span>Disconnected</span>
        }
      }
    </div>
    <span class="toolbar-spacer"></span>
    <button mat-button routerLink="/topic-management">
      <mat-icon>settings</mat-icon>
      <span>Topic Management</span>
    </button>
    <button mat-stroked-button (click)="disconnect()">
      <mat-icon>exit_to_app</mat-icon>
      <span>Disconnect</span>
    </button>
  </mat-toolbar>

  <!-- Main Content Area -->
  <main class="main-content">
    <!-- Column 1: Device List -->
    <div class="content-column device-list-col">
      <app-device-list></app-device-list>
    </div>

    <!-- Column 2: Topic Monitor -->
    <div class="content-column topic-monitor-col">
       <app-topic-monitor></app-topic-monitor>
    </div>

    <!-- Column 3: Publisher -->
    <div class="content-column publisher-col">
        <app-publisher></app-publisher>
    </div>
  </main>
</div>